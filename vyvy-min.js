var vyAttrInput="vy-input",vyAttrIf="vy-if",vyAttrClick="vy-click",vyAttrText="vy-text",vyAttrHtml="vy-html",vyAttrOn="vy-on",vyAttrFor="vy-for",vyAttrForValue="vy-for-val",vy_el_input=document.querySelectorAll("["+vyAttrInput+"]"),vy_el_if=document.querySelectorAll("["+vyAttrIf+"]"),vy_el_for=document.querySelectorAll("["+vyAttrFor+"]"),vy_el_click=document.querySelectorAll("["+vyAttrClick+"]"),vy_el_on=document.querySelectorAll("["+vyAttrOn+"]"),vy_el_text=document.querySelectorAll("["+vyAttrText+"]"),vy_el_html=document.querySelectorAll("["+vyAttrHtml+"]"),vyData={};function _conditionalRender(){let l=[];vy_el_if.forEach(e=>{if("VY-TEMPLATE"==e.tagName){var r=e.getAttribute(vyAttrIf);let t=e.children;if(0==vyData[r])for(;t.length;)l.push(t[0]),t[0].parentNode.removeChild(t[0]);if(1==vyData[r])for(let t=0;t<l.length;t++)e.appendChild(l[t])}else console.error("vy-if must use tag <vy-template>")})}function _listRender(){vy_el_for.forEach(n=>{let o=[];if("VY-TEMPLATE"==n.tagName){let t=n.getAttribute(vyAttrFor),l=n.childNodes;var i=t.split(":");if(t.includes(":"))if(2==i.length){let e=[],r=[];for(l.forEach(function(t){t.nodeType!=Node.TEXT_NODE&&o.push(t)});n.firstChild;)n.removeChild(n.firstChild);for(let n=0;n<vyData[i[1]].length;n++)if("object"==typeof vyData[i[1]][n])for(let l=0;l<o.length;l++){let t=o[l].cloneNode(!0);if(null!=o[l].getAttribute(vyAttrForValue)){let e="",r="";o[l].getAttribute(vyAttrForValue).includes(".")&&(e=o[l].getAttribute(vyAttrForValue).split("."),e.shift()),r=vyData[i[1]][n];for(let t=0;t<e.length;t++)r=r[e[t]];t.innerText=r}e.push(t)}else if("string"==typeof vyData[i[1]][n]){let t=o[0].cloneNode(!0);null!=o[0].getAttribute(vyAttrForValue)&&(t.innerText=vyData[i[1]][n]),r.push(t)}e.forEach(t=>{t.removeAttribute(vyAttrForValue),n.appendChild(t)}),r.forEach(t=>{t.removeAttribute(vyAttrForValue),n.appendChild(t)})}else console.error("vy-for must contain 2 parameter");else console.error("vy-for must contain alias:list")}else console.error("vy-for must use tag <vy-template>")})}function _bindingText(){vy_el_text.forEach(t=>{var e=t.getAttribute(vyAttrText);t.innerText=vyData[e]})}function vyLoadData(){_bindingText(),_bindingHtml(),_conditionalRender()}function vyInit(){_bindingText(),_bindingHtml(),_listRender(),_conditionalRender()}function _bindingHtml(){vy_el_html.forEach(t=>{var e=t.getAttribute(vyAttrHtml);t.innerHTML=vyData[e]})}vyAlias={},vy_el_input.forEach(e=>{if("text"==e.type||"textarea"==e.type||"number"==e.type||"password"==e.type){let t=e.getAttribute(vyAttrInput);e.onkeyup=function(){vyData[t]=e.value,vyLoadData()}}if("select-one"==e.type){let t=e.getAttribute(vyAttrInput);e.onchange=function(){vyData[t]=e.value,vyLoadData()}}}),vy_el_click.forEach(t=>{let e=t.getAttribute(vyAttrClick);console.log(e),t.onclick=function(){window[e](),vyLoadData()}}),vy_el_on.forEach(e=>{let t=e.getAttribute(vyAttrOn),r=t.split(":");t.includes(":")?2==r.length?e["on"+r[0]]=function(t){"INPUT"==e.tagName&&"file"==e.type?window[r[1]](t):window[r[1]](),vyLoadData()}:console.error("vy-on must contain 2 parameter"):console.error("vy-on must contain event:functionName")});